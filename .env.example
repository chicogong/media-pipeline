# Media Pipeline Configuration
# Copy this file to .env and customize for your environment

# =============================================================================
# API Server Configuration
# =============================================================================

# Server host and port
API_HOST=0.0.0.0
API_PORT=8080

# =============================================================================
# Redis Configuration (Optional - for future caching/queuing)
# =============================================================================

# Redis connection URL
REDIS_URL=redis://redis:6379

# Redis password (leave empty if no password)
REDIS_PASSWORD=

# Redis database number (0-15)
REDIS_DB=0

# =============================================================================
# Database Configuration (Optional - for future production database)
# =============================================================================

# PostgreSQL connection URL
DATABASE_URL=postgresql://media:media123@postgres:5432/media_pipeline?sslmode=disable

# Database pool settings
DB_MAX_CONNECTIONS=20
DB_MIN_CONNECTIONS=5
DB_CONNECTION_TIMEOUT=30

# =============================================================================
# Storage Configuration
# =============================================================================

# Directory paths (inside container)
UPLOAD_DIR=/app/uploads
OUTPUT_DIR=/app/outputs
TEMP_DIR=/app/temp

# Maximum upload file size in bytes (1GB = 1073741824)
MAX_UPLOAD_SIZE=1073741824

# Cleanup temporary files after processing
AUTO_CLEANUP=true
CLEANUP_INTERVAL=3600

# =============================================================================
# FFmpeg Configuration
# =============================================================================

# FFmpeg and ffprobe paths
FFMPEG_PATH=/usr/bin/ffmpeg
FFPROBE_PATH=/usr/bin/ffprobe

# FFmpeg threads (0 = auto-detect)
FFMPEG_THREADS=0

# FFmpeg preset (ultrafast, superfast, veryfast, faster, fast, medium, slow, slower, veryslow)
FFMPEG_PRESET=medium

# FFmpeg log level (quiet, panic, fatal, error, warning, info, verbose, debug)
FFMPEG_LOG_LEVEL=error

# =============================================================================
# Job Processing Configuration
# =============================================================================

# Maximum concurrent jobs
MAX_CONCURRENT_JOBS=5

# Job timeout in seconds (3600 = 1 hour)
JOB_TIMEOUT=3600

# Job retry configuration
MAX_RETRIES=3
RETRY_DELAY=60

# Progress update interval in seconds
PROGRESS_INTERVAL=5

# =============================================================================
# Logging Configuration
# =============================================================================

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# Log format (json, text)
LOG_FORMAT=json

# Log output (stdout, stderr, file)
LOG_OUTPUT=stdout

# Log file path (if LOG_OUTPUT=file)
LOG_FILE=/app/logs/media-pipeline.log

# =============================================================================
# Security Configuration
# =============================================================================

# API authentication (future feature)
# API_KEY_REQUIRED=false
# API_KEY=your-secret-api-key

# CORS allowed origins (comma-separated)
CORS_ALLOWED_ORIGINS=*

# CORS allowed methods
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS

# =============================================================================
# Monitoring Configuration
# =============================================================================

# Enable metrics endpoint
METRICS_ENABLED=true
METRICS_PORT=9090

# Enable health check endpoint
HEALTH_CHECK_ENABLED=true

# =============================================================================
# Development/Debug Configuration
# =============================================================================

# Enable debug mode
DEBUG=false

# Enable pprof profiling endpoints
PPROF_ENABLED=false

# =============================================================================
# Cloud Storage Configuration (Future Feature)
# =============================================================================

# AWS S3 Configuration
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# S3_BUCKET=media-pipeline-storage

# Google Cloud Storage Configuration
# GCS_PROJECT_ID=your-project-id
# GCS_BUCKET=media-pipeline-storage
# GCS_CREDENTIALS_FILE=/app/config/gcs-credentials.json

# Azure Blob Storage Configuration
# AZURE_STORAGE_ACCOUNT=your-account
# AZURE_STORAGE_KEY=your-key
# AZURE_CONTAINER=media-pipeline-storage
